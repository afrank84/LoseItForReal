<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Calorie Dashboard</title>
	<link rel="stylesheet" href="/style.css" />
</head>

<body>
	<div class="wrap">
		<div class="row header">
			<h1 class="title">Calorie Dashboard</h1>
			<div class="row">
				<button class="btn btn-ghost" id="themeBtn" type="button">Theme: System</button>
				<a href="/log">Add Entry</a>
				<a href="/data/entries.jsonl">entries.jsonl</a>
			</div>
		</div>

		<div class="card">
			<div class="kpi" id="kpis"></div>
			<div class="small muted" id="status"></div>
		</div>

		<div class="grid" style="margin-top:16px;">
			<div class="card">
				<h2 class="h2">Calories Trend</h2>
				<svg class="chart" id="chart"></svg>
				<div class="small muted" style="margin-top:10px;">
					Line is daily calories. The thicker line is the 7-day rolling average (when enough data exists).
				</div>

				<div class="row" style="margin-top:12px;">
					<label class="small">Filter:</label>
					<select id="filterType">
						<option value="all">All days</option>
						<option value="over">Over a threshold</option>
						<option value="under">Under a threshold</option>
					</select>
					<input id="threshold" type="number" value="2500" style="width:120px;" />
					<button class="btn" id="applyFilter" type="button">Apply</button>
				</div>

				<h2 class="h2" style="margin-top:16px;">Days</h2>
				<table class="table">
					<thead>
						<tr>
							<th style="width:120px;">Date</th>
							<th style="width:90px;">Kcal</th>
							<th style="width:120px;">Day Type</th>
							<th>Notes (preview)</th>
						</tr>
					</thead>
					<tbody id="daysTbody"></tbody>
				</table>
			</div>

			<div class="card">
				<h2 class="h2">Day Detail</h2>
				<div class="small muted" id="detailHint">
					Click a day from the table to see what you ate and the estimate breakdown.
				</div>
				<div id="detail"></div>
			</div>
		</div>
	</div>

	<script src="/app.js"></script>
</body>

</html>